"use strict";angular.module("conferenceApp",["ngCookies","ngSanitize"]),angular.module("conferenceApp").controller("MainCtrl",["$scope","$http","$interval","$window",function(a,b,c,d){a.isThereMail=!1;b({method:"GET",url:"http://skynet.im/data/adcf9640-f71a-11e3-a289-c9c410d2a47e",headers:{skynet_auth_uuid:"adcf9640-f71a-11e3-a289-c9c410d2a47e",skynet_auth_token:"0c4liaas7dum78pviw7ovh5pvc4k7qfr"}}).success(function(b){a.isThereMail=b.data[0].isThereMail,console.log(b.data[0].isThereMail)}).error(function(){console.error("Unable to connect to Meshblu (formerly Skynet)")});var e=skynet.createConnection({uuid:"adcf9640-f71a-11e3-a289-c9c410d2a47e",token:"0c4liaas7dum78pviw7ovh5pvc4k7qfr",protocol:"websocket"});e.on("ready",function(){e.status(function(){}),e.on("message",function(b){console.log(b.payload.dat),"mail"===b.payload.typ&&(a.isThereMail=b.payload.dat.isThereMail,a.$apply())})}),a.sendYo=function(){var b=prompt("Please enter your YO username");void 0!==b&&(a.username=b,a.yo=!0,console.log(a.username),d.alert("Will send a YO to "+b+" when the table is free.  Please keep this browser tab open to be able to receive the YO."))},a.updateRoom=function(c){if(a.isThereMail=c,a.isThereMail===!0&&a.yo){a.yo=!1;var d={api_token:"07a20287-6848-7bfc-fb8f-1cc06ae4c468",username:a.username};b.post("http://api.justyo.co/yo/",d).success(function(){console.log("Succesfully sent Yo!")}).error(function(){console.error("Unable to send Yo")})}}}]);